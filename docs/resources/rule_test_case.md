---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "impart_rule_test_case Resource - impart"
subcategory: ""
description: |-
  
---

# impart_rule_test_case (Resource)



## Example Usage

```terraform
resource "impart_rule_test_case" "example" {
  name        = "example"
  description = "test case description"
  messages = [
    {
      count = 1
      req = {
        url           = "http://example.com"
        method        = "GET"
        body          = base64encode("request body")
        header_keys   = ["Header1"]
        header_values = ["value1"]
        remote_addr   = "192.168.1.1"
      }
      res = {
        status_code   = 201
        header_keys   = ["Header1"]
        header_values = ["value1"]
        body          = base64encode("response body")
      }
    }
  ]

  assertions = [
    {
      message_indexes = [0]
      assertion_type  = "output"
      condition       = "contains" #contains|not_contains
      expected        = "test"
    },
    {
      message_indexes = [0]
      assertion_type  = "block"
      location        = "req" # req|res
      expected        = "true"
    },
    {
      message_indexes = [0]
      assertion_type  = "status_code"
      location        = "req"    # req|res
      condition       = "one_of" # equal|not_equal|greater_than|less_than|one_of
      expected        = "201,200"
    },
    {
      message_indexes = [0]
      assertion_type  = "tags"
      location        = "req"      # req|res
      condition       = "contains" # contains|not_contains
      expected        = "tagname"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `messages` (Attributes List) The messages of the test case. (see [below for nested schema](#nestedatt--messages))
- `name` (String) The name of the test case.

### Optional

- `assertions` (Attributes List) The assertions of the test case. (see [below for nested schema](#nestedatt--assertions))
- `description` (String) The description of the test case.
- `labels` (List of String) The applied labels.
- `required` (Boolean) Sets if test case required to pass on update.

### Read-Only

- `id` (String) Identifier of the test case.

<a id="nestedatt--messages"></a>
### Nested Schema for `messages`

Required:

- `req` (Attributes) A payload sent to the inspector to inspect an HTTP request. (see [below for nested schema](#nestedatt--messages--req))
- `res` (Attributes) A payload sent to the inspector to inspect an HTTP response. (see [below for nested schema](#nestedatt--messages--res))

Optional:

- `count` (Number) The number of times to include the message in the test case.
- `delay` (Number) The delay in milliseconds between message iterations.
- `description` (String) The description of the test case message.
- `post_delay` (Number) The delay in milliseconds after a set of message iterations.

<a id="nestedatt--messages--req"></a>
### Nested Schema for `messages.req`

Required:

- `method` (String) The method of the request.
- `url` (String) The URL of the request.

Optional:

- `body` (String) The base64 encoded HTTP request body.
- `cookie_keys` (List of String) The HTTP request cookie keys.
- `cookie_values` (List of String) The HTTP request cookie values.
- `header_keys` (List of String) The HTTP request header keys.
- `header_values` (List of String) The HTTP request header values.
- `remote_addr` (String) The remote address of the request.
- `truncated_body` (Boolean) Indicates whether the request body was truncated.


<a id="nestedatt--messages--res"></a>
### Nested Schema for `messages.res`

Required:

- `status_code` (Number) The HTTP response status code.

Optional:

- `body` (String) The base64 encoded HTTP response body.
- `header_keys` (List of String) The HTTP response header keys.
- `header_values` (List of String) The HTTP response header values.
- `truncated_body` (Boolean) Indicates whether the response body was truncated.



<a id="nestedatt--assertions"></a>
### Nested Schema for `assertions`

Required:

- `assertion_type` (String) The assertion type of the request.
- `expected` (String) The expected value of the assertion.
It is a string value, and the format it must satisfy depends on the assertion type:
**output**: A string.
**tags**: A string.
**status_code**: An integer value (e.g., "200") or comma-separated list of integers for one_of condition (e.g., "200,404,500").
**block**: A boolean value represented as "true" or "false".
- `message_indexes` (List of Number) The indexes of the messages in the test case the assertion applies to.

Optional:

- `condition` (String) The condition of the assertion.
Accepted values per assertion type:
**output**: contains, not_contains.
**tags**: contains, not_contains.
**status_code**: equal, not_equal, greater_than, less_than, one_of.
**block**: N/A
- `description` (String) The description of the assertion.
- `location` (String) The location of the assertion. Allowed values: req, res. Not applicable for assertion type output.
